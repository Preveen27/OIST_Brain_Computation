Traceback (most recent call last):
  File "/Users/doya/miniforge3/lib/python3.9/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/Users/doya/miniforge3/lib/python3.9/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/Users/doya/miniforge3/lib/python3.9/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/Users/doya/miniforge3/lib/python3.9/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/Users/doya/miniforge3/lib/python3.9/asyncio/base_events.py", line 647, in run_until_complete
    return future.result()
  File "/Users/doya/miniforge3/lib/python3.9/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/Users/doya/miniforge3/lib/python3.9/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/Users/doya/miniforge3/lib/python3.9/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
# Source sounds
for i in range(D):
    sd.play(S[:,i], samplerate=4000, blocking=True)  # 4kHz sampling, wait till finish
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mMemoryError[0m                               Traceback (most recent call last)
Input [0;32mIn [29][0m, in [0;36m<cell line: 2>[0;34m()[0m
[1;32m      1[0m [38;5;66;03m# Source sounds[39;00m
[1;32m      2[0m [38;5;28;01mfor[39;00m i [38;5;129;01min[39;00m [38;5;28mrange[39m(D):
[0;32m----> 3[0m     [43msd[49m[38;5;241;43m.[39;49m[43mplay[49m[43m([49m[43mS[49m[43m[[49m[43m:[49m[43m,[49m[43mi[49m[43m][49m[43m,[49m[43m [49m[43msamplerate[49m[38;5;241;43m=[39;49m[38;5;241;43m4000[39;49m[43m,[49m[43m [49m[43mblocking[49m[38;5;241;43m=[39;49m[38;5;28;43;01mTrue[39;49;00m[43m)[49m

File [0;32m~/miniforge3/lib/python3.9/site-packages/sounddevice.py:175[0m, in [0;36mplay[0;34m(data, samplerate, mapping, blocking, loop, **kwargs)[0m
[1;32m    172[0m     ctx[38;5;241m.[39mwrite_outdata(outdata)
[1;32m    173[0m     ctx[38;5;241m.[39mcallback_exit()
[0;32m--> 175[0m [43mctx[49m[38;5;241;43m.[39;49m[43mstart_stream[49m[43m([49m[43mOutputStream[49m[43m,[49m[43m [49m[43msamplerate[49m[43m,[49m[43m [49m[43mctx[49m[38;5;241;43m.[39;49m[43moutput_channels[49m[43m,[49m
[1;32m    176[0m [43m                 [49m[43mctx[49m[38;5;241;43m.[39;49m[43moutput_dtype[49m[43m,[49m[43m [49m[43mcallback[49m[43m,[49m[43m [49m[43mblocking[49m[43m,[49m
[1;32m    177[0m [43m                 [49m[43mprime_output_buffers_using_stream_callback[49m[38;5;241;43m=[39;49m[38;5;28;43;01mFalse[39;49;00m[43m,[49m
[1;32m    178[0m [43m                 [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m

File [0;32m~/miniforge3/lib/python3.9/site-packages/sounddevice.py:2582[0m, in [0;36m_CallbackContext.start_stream[0;34m(self, StreamClass, samplerate, channels, dtype, callback, blocking, **kwargs)[0m
[1;32m   2579[0m [38;5;28;01mdef[39;00m [38;5;21mstart_stream[39m([38;5;28mself[39m, StreamClass, samplerate, channels, dtype, callback,
[1;32m   2580[0m                  blocking, [38;5;241m*[39m[38;5;241m*[39mkwargs):
[1;32m   2581[0m     stop()  [38;5;66;03m# Stop previous playback/recording[39;00m
[0;32m-> 2582[0m     [38;5;28mself[39m[38;5;241m.[39mstream [38;5;241m=[39m [43mStreamClass[49m[43m([49m[43msamplerate[49m[38;5;241;43m=[39;49m[43msamplerate[49m[43m,[49m
[1;32m   2583[0m [43m                              [49m[43mchannels[49m[38;5;241;43m=[39;49m[43mchannels[49m[43m,[49m
[1;32m   2584[0m [43m                              [49m[43mdtype[49m[38;5;241;43m=[39;49m[43mdtype[49m[43m,[49m
[1;32m   2585[0m [43m                              [49m[43mcallback[49m[38;5;241;43m=[39;49m[43mcallback[49m[43m,[49m
[1;32m   2586[0m [43m                              [49m[43mfinished_callback[49m[38;5;241;43m=[39;49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mfinished_callback[49m[43m,[49m
[1;32m   2587[0m [43m                              [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43mkwargs[49m[43m)[49m
[1;32m   2588[0m     [38;5;28mself[39m[38;5;241m.[39mstream[38;5;241m.[39mstart()
[1;32m   2589[0m     [38;5;28;01mglobal[39;00m _last_callback

File [0;32m~/miniforge3/lib/python3.9/site-packages/sounddevice.py:1494[0m, in [0;36mOutputStream.__init__[0;34m(self, samplerate, blocksize, device, channels, dtype, latency, extra_settings, callback, finished_callback, clip_off, dither_off, never_drop_input, prime_output_buffers_using_stream_callback)[0m
[1;32m   1464[0m [38;5;28;01mdef[39;00m [38;5;21m__init__[39m([38;5;28mself[39m, samplerate[38;5;241m=[39m[38;5;28;01mNone[39;00m, blocksize[38;5;241m=[39m[38;5;28;01mNone[39;00m,
[1;32m   1465[0m              device[38;5;241m=[39m[38;5;28;01mNone[39;00m, channels[38;5;241m=[39m[38;5;28;01mNone[39;00m, dtype[38;5;241m=[39m[38;5;28;01mNone[39;00m, latency[38;5;241m=[39m[38;5;28;01mNone[39;00m,
[1;32m   1466[0m              extra_settings[38;5;241m=[39m[38;5;28;01mNone[39;00m, callback[38;5;241m=[39m[38;5;28;01mNone[39;00m, finished_callback[38;5;241m=[39m[38;5;28;01mNone[39;00m,
[1;32m   1467[0m              clip_off[38;5;241m=[39m[38;5;28;01mNone[39;00m, dither_off[38;5;241m=[39m[38;5;28;01mNone[39;00m, never_drop_input[38;5;241m=[39m[38;5;28;01mNone[39;00m,
[1;32m   1468[0m              prime_output_buffers_using_stream_callback[38;5;241m=[39m[38;5;28;01mNone[39;00m):
[1;32m   1469[0m     [38;5;124;03m"""PortAudio output stream (using NumPy).[39;00m
[1;32m   1470[0m 
[1;32m   1471[0m [38;5;124;03m    This has the same methods and attributes as `Stream`, except[39;00m
[0;32m   (...)[0m
[1;32m   1492[0m 
[1;32m   1493[0m [38;5;124;03m    """[39;00m
[0;32m-> 1494[0m     [43m_StreamBase[49m[38;5;241;43m.[39;49m[38;5;21;43m__init__[39;49m[43m([49m[38;5;28;43mself[39;49m[43m,[49m[43m [49m[43mkind[49m[38;5;241;43m=[39;49m[38;5;124;43m'[39;49m[38;5;124;43moutput[39;49m[38;5;124;43m'[39;49m[43m,[49m[43m [49m[43mwrap_callback[49m[38;5;241;43m=[39;49m[38;5;124;43m'[39;49m[38;5;124;43marray[39;49m[38;5;124;43m'[39;49m[43m,[49m
[1;32m   1495[0m [43m                         [49m[38;5;241;43m*[39;49m[38;5;241;43m*[39;49m[43m_remove_self[49m[43m([49m[38;5;28;43mlocals[39;49m[43m([49m[43m)[49m[43m)[49m[43m)[49m

File [0;32m~/miniforge3/lib/python3.9/site-packages/sounddevice.py:858[0m, in [0;36m_StreamBase.__init__[0;34m(self, kind, samplerate, blocksize, device, channels, dtype, latency, extra_settings, callback, finished_callback, clip_off, dither_off, never_drop_input, prime_output_buffers_using_stream_callback, userdata, wrap_callback)[0m
[1;32m    853[0m         [38;5;28;01mreturn[39;00m _wrap_callback(callback, data, frames, time, status)
[1;32m    855[0m [38;5;28;01melif[39;00m kind [38;5;241m==[39m [38;5;124m'[39m[38;5;124moutput[39m[38;5;124m'[39m [38;5;129;01mand[39;00m wrap_callback [38;5;241m==[39m [38;5;124m'[39m[38;5;124marray[39m[38;5;124m'[39m:
[1;32m    857[0m [43m    [49m[38;5;129;43m@ffi_callback[39;49m
[0;32m--> 858[0m [43m    [49m[38;5;28;43;01mdef[39;49;00m[43m [49m[38;5;21;43mcallback_ptr[39;49m[43m([49m[43miptr[49m[43m,[49m[43m [49m[43moptr[49m[43m,[49m[43m [49m[43mframes[49m[43m,[49m[43m [49m[43mtime[49m[43m,[49m[43m [49m[43mstatus[49m[43m,[49m[43m [49m[43m_[49m[43m)[49m[43m:[49m
[1;32m    859[0m [43m        [49m[43mdata[49m[43m [49m[38;5;241;43m=[39;49m[43m [49m[43m_array[49m[43m([49m
[1;32m    860[0m [43m            [49m[43m_buffer[49m[43m([49m[43moptr[49m[43m,[49m[43m [49m[43mframes[49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_channels[49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_samplesize[49m[43m)[49m[43m,[49m
[1;32m    861[0m [43m            [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_channels[49m[43m,[49m[43m [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43m_dtype[49m[43m)[49m
[1;32m    862[0m [43m        [49m[38;5;28;43;01mreturn[39;49;00m[43m [49m[43m_wrap_callback[49m[43m([49m[43mcallback[49m[43m,[49m[43m [49m[43mdata[49m[43m,[49m[43m [49m[43mframes[49m[43m,[49m[43m [49m[43mtime[49m[43m,[49m[43m [49m[43mstatus[49m[43m)[49m

[0;31mMemoryError[0m: Cannot allocate write+execute memory for ffi.callback(). You might be running on a system that prevents this. For more information, see https://cffi.readthedocs.io/en/latest/using.html#callbacks
MemoryError: Cannot allocate write+execute memory for ffi.callback(). You might be running on a system that prevents this. For more information, see https://cffi.readthedocs.io/en/latest/using.html#callbacks

